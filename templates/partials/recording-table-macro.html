{% macro recording_table(recordings) %}
<div class="table-responsive">
    <table class="table-striped">
    <tr>
        <th>Start Time</th>
        <th>Recording File</th>
        <th>Actions</th>
    </tr>
    {% for recording in recordings %}
    <tr>
            <td>

                <div id="time-offsets-{{ recording.id }}" >
                    <input hidden type="text" id="start-time-{{ recording.id }}" name="start-time-{{ recording.id }}" value="{{ recording.get_start_time() }}">

                    <label style="display: none;" class="bold" id="data-time-label-{{ recording.id }}"></label>
                    <label hidden style="display: none;" id="gmt-offset-label-{{ recording.id }}"></label>
                    <label hidden style="display: none;" id="location-offset-label-{{ recording.id }}"></label>
                </div>
                
            </td>
                <script>

$(document).ready(function() {
  $('#time-offsets-{{ recording.id }}').ready(function() {
    calculateTimeOffsets('start-time-{{ recording.id }}','gmt-offset-label-{{ recording.id }}','location-offset-label-{{ recording.id }}','data-time-label-{{ recording.id }}','{{ recording.encounter.data_timezone }}','{{ recording.encounter.location_timezone }}');
  });
});
                </script>
            </td>
            {% if recording.recording_file != None %}
            <td>
                <a class="button" href="{{ url_for('recording.download_recording_file', recording_id=recording.id) }}">Download</a><br>
            </td>
            {% else %}
            <td>
                <label for="recording_file" >This recording does not have an audio file</label><br>
            </td>
            {% endif %}
            <td>
                <a class="button" href="{{ url_for('recording.recording_view', encounter_id=recording.encounter_id, recording_id=recording.id) }}">View Selections</a><br>

            </td>

    </tr>
    {% endfor %}
</table>
</div>
{% endmacro %}